// Generated by CoffeeScript 1.10.0
var BST_CountUp, BST_SetFirstVisited, BST_checkCo;

BST_SetFirstVisited = function() {
  var formated, time;
  if ($.cookie('boost_first_visited')) {

  } else {
    time = moment();
    formated = time.format('YYYY-MM-DD HH:mm:ss');
    $.cookie('boost_first_visited', formated);
    console.log(time);
    console.log(formated);
  }
};

BST_checkCo = function(field) {
  var cookie, storage;
  cookie = $.cookie(field);
  storage = localStorage.getItem(field);
  if (cookie) {
    if (!storage) {
      localStorage.setItem(field, cookie);
      return;
    }
  } else if (storage) {
    $.cookie('bst_did', storage);
    return;
  }
};

BST_CountUp = function(id, n) {
  var csrf_token;
  csrf_token = $('input:hidden[name="CSRF_token"]').val();
  $.ajaxSetup({
    data: {
      CSRF_token: csrf_token
    }
  });
  if (parseInt(n) === 1) {
    $.ajax({
      url: '/articles/ajax_boost_log/' + id + '/' + n,
      dataType: 'json',
      type: 'post',
      data: {
        bst_did: $.cookie('bst_did'),
        CSRF_token: csrf_token
      },
      complete: function() {}
    });
  }
};

$(window).load(function() {
  BST_SetFirstVisited();
  BST_checkCo('bst_did');
  BST_checkCo('boost_first_visited');
});

//# sourceMappingURL=boost.js.map
